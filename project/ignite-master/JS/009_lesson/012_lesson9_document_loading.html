<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>Загрузка документа </title>
    <!--
    DOMContentLoaded – означает, что все DOM-элементы разметки уже созданы, можно их искать, вешать обработчики,
    но при этом, возможно, ещё не догрузились какие-то картинки или стили.
    load – страница и все ресурсы загружены.
    beforeunload/unload – можно проверить, сохранил ли посетитель изменения, уточнить, действительно ли он хочет покинуть страницу.

    https://developers.google.com/web/updates/2016/04/chrome-51-deprecations?hl=en#remove-custom-messages-in-onbeforeload-dialogs
    -->
    <script>

        var loader = new Image();
        loader.src = 'Images/default.svg';

        document.addEventListener('DOMContentLoaded', function () {

            document.body.appendChild(loader);
        })

        window.onload = function () {
            setTimeout(function () {
                alert('Страница загружена!');
                document.body.removeChild(loader);
            }, 1000);
        }

        window.onbeforeunload = function (e) {
            e.returnValue = 'Вы хотите покинуть страницу?';            
            return 'Вы хотите покинуть страницу?';
        }


    </script>
</head>

<body>
    <!-- html here -->
</body>
</html>